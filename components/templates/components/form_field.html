<div class="mb-3">
    {% if label %}
        <label for="{{ id }}" class="form-label">
            {{ label }}
            {% if required %}<span class="text-danger">*</span>{% endif %}
        </label>
    {% endif %}
    
    {% if type == 'textarea' %}
        <textarea 
            class="form-control{% if is_invalid %} is-invalid{% endif %}{% if is_valid %} is-valid{% endif %}{% if class_name %} {{ class_name }}{% endif %}"
            id="{{ id }}"
            name="{{ name }}"
            {% if placeholder %}placeholder="{{ placeholder }}"{% endif %}
            {% if required %}required{% endif %}
            {% if disabled %}disabled{% endif %}
            {% if rows %}rows="{{ rows }}"{% endif %}
            {% if cols %}cols="{{ cols }}"{% endif %}>{{ value|default:'' }}</textarea>
    {% elif type == 'select' %}
        <select 
            class="form-control{% if is_invalid %} is-invalid{% endif %}{% if is_valid %} is-valid{% endif %}{% if class_name %} {{ class_name }}{% endif %}"
            id="{{ id }}"
            name="{{ name }}"
            {% if required %}required{% endif %}
            {% if disabled %}disabled{% endif %}>
            {% if placeholder %}
                <option value="">{{ placeholder }}</option>
            {% endif %}
            {% if options %}
                {% for option in options %}
                    <option value="{{ option.value }}" {% if option.value == value %}selected{% endif %}>
                        {{ option.label }}
                    </option>
                {% endfor %}
            {% endif %}
        </select>
    {% else %}
        <input 
            type="{{ type }}"
            class="form-control{% if is_invalid %} is-invalid{% endif %}{% if is_valid %} is-valid{% endif %}{% if class_name %} {{ class_name }}{% endif %}"
            id="{{ id }}"
            name="{{ name }}"
            {% if value %}value="{{ value }}"{% endif %}
            {% if placeholder %}placeholder="{{ placeholder }}"{% endif %}
            {% if required %}required{% endif %}
            {% if disabled %}disabled{% endif %}
            {% if min %}min="{{ min }}"{% endif %}
            {% if max %}max="{{ max }}"{% endif %}
            {% if step %}step="{{ step }}"{% endif %}
            {% if pattern %}pattern="{{ pattern }}"{% endif %}>
    {% endif %}
    
    {% if help_text %}
        <div class="form-text">{{ help_text }}</div>
    {% endif %}
    
    {% if error_message %}
        <div class="invalid-feedback">{{ error_message }}</div>
    {% endif %}
</div>
